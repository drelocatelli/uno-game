"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.addActionToControllerMetadata = void 0;
const SocketControllerMetaKey_1 = require("../types/SocketControllerMetaKey");
const get_metadata_1 = require("./get-metadata");
const addActionToControllerMetadata = (target, actionMetadata) => {
    var _a;
    const existingMetadata = (0, get_metadata_1.getMetadata)(target);
    Reflect.defineMetadata(SocketControllerMetaKey_1.SOCKET_CONTROLLER_META_KEY, {
        ...existingMetadata,
        actions: {
            ...existingMetadata === null || existingMetadata === void 0 ? void 0 : existingMetadata.actions,
            [actionMetadata.methodName]: {
                ...(_a = existingMetadata === null || existingMetadata === void 0 ? void 0 : existingMetadata.actions) === null || _a === void 0 ? void 0 : _a[actionMetadata.methodName],
                ...actionMetadata,
            },
        },
    }, target);
};
exports.addActionToControllerMetadata = addActionToControllerMetadata;
//# sourceMappingURL=add-action-to-controller-metadata.js.map